<%- include('../partials/header') %>
    <%- include('../partials/navbar') %>

    <main class="container">
        <!-- Make a formular to create a new product -->
        <h1 class="text-center">Agregar Producto</h1>
        <!-- If error, show a message -->
        <% if (hasMessages) { %>
            <section class="messages">
              <% messages.forEach(function(message) { %>
                <% if (message.type==='error' ) { %>
                  <div class="alert alert-danger" role="alert">
                    <%= message.message %>
                  </div>
                  <% } else if (message.type==='success' ) { %>
                    <div class="alert alert-success" role="alert">
                      <%= message.message %>
                    </div>
                    <% } %>
                      <% }) %>
            </section>
            <% } %>
        <form action="/intranet/product/new" enctype="multipart/form-data" method="POST">
            <div class="mb-3">
                <label for="name" class="form-label">Nombre</label>
                <input type="text" class="form-control" id="name" aria-describedby="" maxlength="255" required
                    name="name">
            </div>
            <div class="mb-3">
                <label  for="description" class="form-label">Descripci√≥n</label>
                <textarea class="form-control" id="description" rows="3" name="description"></textarea>
            </div>
            <!-- Image of the product -->
            <div class="mb-3">
                <label for="image" class="form-label">Imagen</label>
                <input type="file" class="form-control" id="image" name="image" accept="image/*">
                <image src="https://via.placeholder.com/300x250?text=Sin+Imagen" class="img-fluid" id="imagePreview">
            </div>
            <!-- Price of the product -->
            <div class="mb-3">
                <label for="price" class="form-label">Precio</label>
                <input type="number" class="form-control" id="price" aria-describedby="" maxlength="255" required step="0.01"
                    name="price">
            </div>
            <!-- Stock of the product -->
            <div class="mb-3">
                <label for="stock" class="form-label">Stock</label>
                <input type="number" class="form-control" id="stock" aria-describedby="" maxlength="255" required step="1"
                    name="stock">
            </div>
            <!-- Category of the product -->
            <div class="mb-3">
                <label for="category" class="form-label">Categoria</label>
                <select class="form-select" aria-label="Default select example" name="category">
                    <option selected disabled>Selecciona una categoria</option>
                    <% categories.forEach(function(category) { %>
                        <option value="<%= category.id %>"><%= category.name %></option>
                    <% }) %>
                </select>
            </div>
            <button type="submit" class="btn btn-primary">Agregar</button>
        </form>

    </main>

    <%- include('../partials/footer') %>